maintainer="Mitchell Scott <mitchell@scottlabs.io>"
pkgname=rmhacks
pkgver=0.0.11_pre4
pkgrel=0
_commit=1c617914af95e2d3b8f25c7c0fd71ef11e21b461
upstream_author="asivery"
category="ui"
pkgdesc="reMarkable hacks in QMD format"
url="https://github.com/asivery/rm-hacks-qmd"
arch="noarch"
license="MIT"
depends="qt-resource-rebuilder>=17 remarkable-os>=3.24 remarkable-os<3.25"
options="!check !fhs"
source="
rm-hacks-qmd-$_commit.tar.gz::https://github.com/asivery/rm-hacks-qmd/archive/$_commit.tar.gz
"
builddir="$srcdir/rm-hacks-qmd-$_commit/0.0.11-pre4"

package() {
	install -Dm644 zz_rmhacks.qmd \
		"$pkgdir/home/root/xovi/exthome/qt-resource-rebuilder/zz_rmhacks.qmd"

	mkdir -p "$pkgdir/home/root/xovi/exthome/qt-resource-rebuilder/rmHacks"
	cp -r rmHacks/* \
		"$pkgdir/home/root/xovi/exthome/qt-resource-rebuilder/rmHacks/"

	install -Dm644 "$srcdir/rm-hacks-qmd-$_commit/LICENSE" \
		"$pkgdir/home/root/.vellum/licenses/$pkgname/LICENSE"
	echo "https://github.com/asivery/rm-hacks-qmd/archive/$_commit.tar.gz" > \
		"$pkgdir/home/root/.vellum/licenses/$pkgname/SOURCES"
}
sha512sums="
8ce81544967a51aabd788ecc63771731e02c9f6e99636dea844bb9ac69656a5d4b3583351c7ffb5caad60288ac6472385fc9e143a693ca6691eaccb862f3d01e  rm-hacks-qmd-1c617914af95e2d3b8f25c7c0fd71ef11e21b461.tar.gz
"
