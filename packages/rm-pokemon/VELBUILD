maintainer="Mitchell Scott <mitchell@scottlabs.io>"
pkgname=rm-pokemon
pkgver=0.2.0
pkgrel=0
upstream_author="rmitchellscott"
category="utilities"
pkgdesc="Display the Pokemon sprite matching your reMarkable firmware codename"
url="https://github.com/rmitchellscott/rm-pokemon"
arch="aarch64 armv7"
license="MIT"
options="!check !fhs !strip !tracedeps"

source="
https://github.com/rmitchellscott/rm-pokemon/releases/download/v$pkgver/rm-pokemon-aarch64
https://github.com/rmitchellscott/rm-pokemon/releases/download/v$pkgver/rm-pokemon-armv7
LICENSE::https://raw.githubusercontent.com/rmitchellscott/rm-pokemon/main/LICENSE
"

package() {
	local bin_file
	case "$CARCH" in
		aarch64) bin_file="rm-pokemon-aarch64" ;;
		armv7) bin_file="rm-pokemon-armv7" ;;
	esac

	install -Dm755 "$srcdir/$bin_file" \
		"$pkgdir/home/root/.vellum/bin/rm-pokemon"

	install -Dm644 "$srcdir/LICENSE" \
		"$pkgdir/home/root/.vellum/licenses/$pkgname/LICENSE"
	echo "https://github.com/rmitchellscott/rm-pokemon/archive/refs/tags/v$pkgver.tar.gz" > \
		"$pkgdir/home/root/.vellum/licenses/$pkgname/SOURCES"
}

sha512sums="
2420de3a5bdbaf38b0be5c31230fd132789375a6e8d78bac5c6c8ce033482f8f0f915b8e85aa4ce8d5b63243f60e9e8d68fad5a24a43ee2c22d100a0a57af89e  rm-pokemon-aarch64
b705cc6946e1a539199f8736ee51e80aef12c632804832297681700a333e2c6a40d7fb0dc3be3d50bf2c24ee9d6a1e6410098f75cd946c5aa01af34b5e6ea70b  rm-pokemon-armv7
f48a7cccc84f9ff51168ca431de7db876dae6f39e9cb300c306652c8a1319a4d387a6b25c6af0a065f29322b85886ea765b6de2316fb9db40b6823990247a2a8  LICENSE
"
