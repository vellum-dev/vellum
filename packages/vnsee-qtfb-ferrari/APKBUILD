maintainer="Interloper <45214659+0xdeb7ef@users.noreply.github.com>"
_codename="ferrari"
_name="vnsee-qtfb"
pkgname="$_name-$_codename"
pkgver=1.1.0
pkgrel=0
_upstream_author="khyryra"
_category="apps"
pkgdesc="VNC client for the reMarkable tablet allowing you to use the device as a second screen"
url="https://github.com/khyryra/vnsee-qtfb"
arch="aarch64"
license="GPL-3.0"
install="$pkgname.post-install $pkgname.post-deinstall"
options="!check !fhs !strip !tracedeps"
depends="appload rmpp"
provides="vnsee-qtfb"

source="
$pkgname-$pkgver.zip::https://github.com/khyryra/vnsee-qtfb/releases/download/v$pkgver/vnsee-$_codename.zip
LICENSE.md::https://raw.githubusercontent.com/khyryra/vnsee-qtfb/master/LICENSE.md
"

prepare() {
    default_prepare
    cd "$srcdir"
    unzip -o "$pkgname-$pkgver.zip"
}

package() {
    mkdir -p "$pkgdir/home/root/xovi/exthome/appload"
    cp -r "$srcdir/vnsee" "$pkgdir/home/root/xovi/exthome/appload/vnsee"
    cp -r "$srcdir/vnsee-0" "$pkgdir/home/root/xovi/exthome/appload/vnsee-0"
    cp -r "$srcdir/vnsee-1" "$pkgdir/home/root/xovi/exthome/appload/vnsee-1"
    cp -r "$srcdir/vnsee-2" "$pkgdir/home/root/xovi/exthome/appload/vnsee-2"
    cp -r "$srcdir/vnsee-3" "$pkgdir/home/root/xovi/exthome/appload/vnsee-3"

    install -Dm644 "$srcdir/LICENSE.md" \
        "$pkgdir/home/root/.vellum/licenses/$_name/LICENSE"
    echo "https://github.com/khyryra/vnsee-qtfb/archive/v$pkgver.tar.gz" > \
        "$pkgdir/home/root/.vellum/licenses/$_name/SOURCES"
}

sha512sums="
3ca1a84e4e42c06219eecb456963e5fad3b135dfe41bf9cea3d321f9347d8a19f20868ec0aabf120431135ceb8fe04f011ddcbda3fdc8be449224e33523e1d5e  vnsee-qtfb-ferrari-1.1.0.zip
d361e5e8201481c6346ee6a886592c51265112be550d5224f1a7a6e116255c2f1ab8788df579d9b8372ed7bfd19bac4b6e70e00b472642966ab5b319b99a2686  LICENSE.md
"
